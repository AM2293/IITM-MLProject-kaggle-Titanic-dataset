schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/Titanic_dataset_analysis/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: ac57bf92941785aa6c50b4a436a17fda
      size: 1345
    - path: src/Titanic_dataset_analysis/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: f363ff7b73d936a45e02ec96b8c7eef6
      size: 914
    outs:
    - path: artifacts/data_ingestion
      hash: md5
      md5: c3325a619fcf7871ed1f8b00e3cbaf04.dir
      size: 127958
      nfiles: 4
  data_preprocessing:
    cmd: python 
      src/Titanic_dataset_analysis/pipeline/stage_02_data_preprocessing.py
    deps:
    - path: artifacts/data_ingestion/train.csv
      hash: md5
      md5: 2309cc5f04782ed9bb6016d9f4e381cf
      size: 61194
    - path: config/config.yaml
      hash: md5
      md5: ac57bf92941785aa6c50b4a436a17fda
      size: 1345
    - path: src/Titanic_dataset_analysis/pipeline/stage_02_data_preprocessing.py
      hash: md5
      md5: 0dde9d08cc9e3626b39cf78802e1b13a
      size: 946
    outs:
    - path: artifacts/data_preprocessing/titanic_preprocessed.csv
      hash: md5
      md5: 6483c2a3b0fc04fda1cb92eb40ec59e6
      size: 68603
  model_training:
    cmd: python src/Titanic_dataset_analysis/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_preprocessing/titanic_preprocessed.csv
      hash: md5
      md5: 6483c2a3b0fc04fda1cb92eb40ec59e6
      size: 68603
    - path: config/config.yaml
      hash: md5
      md5: ac57bf92941785aa6c50b4a436a17fda
      size: 1345
    - path: src/Titanic_dataset_analysis/pipeline/stage_03_model_training.py
      hash: md5
      md5: a2f5db63ff242fb38aa6e3b41e24f713
      size: 902
    params:
      params.yaml:
        elasticNetParam:
        - 0.0
        - 0.1
        - 0.5
        - 1.0
        number_of_folds: 5
        regParam:
        - 0.01
        - 0.1
        seed: 42
        sparkSessionTitle: Titanic_data
        splitratio:
        - 0.8
        - 0.2
    outs:
    - path: artifacts/model_training/best_model
      hash: md5
      md5: 1d2a0302b009a921437f728328a78bb0.dir
      size: 10164
      nfiles: 48
    - path: artifacts/model_training/test_data
      hash: md5
      md5: 059a216399dcdc715180b0d0dc3bcee3.dir
      size: 5529
      nfiles: 4
  mlflow_model_management:
    cmd: python 
      src/Titanic_dataset_analysis/pipeline/stage_04_mlflow_model_management.py
    deps:
    - path: artifacts/model_training/best_model
      hash: md5
      md5: 1d2a0302b009a921437f728328a78bb0.dir
      size: 10164
      nfiles: 48
    - path: config/config.yaml
      hash: md5
      md5: ac57bf92941785aa6c50b4a436a17fda
      size: 1345
    - path: 
        src/Titanic_dataset_analysis/pipeline/stage_04_mlflow_model_management.py
      hash: md5
      md5: 6ba986f0564f5abec63a207ec095dbe8
      size: 1009
    params:
      params.yaml:
        experiment_name: Titanic_Pipeline_Exp1
        mlflow_run_name: LR_Pipeline
        mlflow_uri: http://localhost:5000
        sparkSessionTitle: Titanic_data
